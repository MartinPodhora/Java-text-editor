create table TE_STYLE (
	ID BIGINT NOT NULL,
	TITLE VARCHAR(20) NOT NULL,
	PRIMARY_L CHAR(7) NOT NULL,
	PRIMARY_M CHAR(7) NOT NULL,
	PRIMARY_D CHAR(7) NOT NULL,
	PRIMARY_T CHAR(7) NOT NULL,
	SECONDARY_L CHAR(7) NOT NULL,
	SECONDARY_M CHAR(7) NOT NULL,
	SECONDARY_D CHAR(7) NOT NULL,
	SECONDARY_T CHAR(7) NOT NULL
);

ALTER TABLE TE_STYLE ADD CONSTRAINT TE_STYLE_PK PRIMARY KEY (ID);
ALTER TABLE TE_STYLE ALTER COLUMN ID SET DEFAULT nextval('te_style_seq');
   
CREATE TABLE TE_USER (
	USERNAME VARCHAR(50) NOT NULL,
	FIRST_NAME VARCHAR(20) NOT NULL,
   	LAST_NAME VARCHAR(20) NOT NULL,
   	USER_PASSWORD VARCHAR(50) NOT NULL,
   	EMAIL VARCHAR(50),
   	PHOTO text,
   	TE_STYLE_ID BIGINT NOT NULL
   );

ALTER TABLE TE_USER ADD CONSTRAINT TE_USER_PK PRIMARY KEY (USERNAME);
ALTER TABLE TE_USER ADD CONSTRAINT TE_USER_PK_FK1 FOREIGN KEY (TE_STYLE_ID) REFERENCES TE_STYLE (ID);

CREATE TABLE TE_DOCUMENT (
   	ID BIGINT NOT NULL,
   	NAME VARCHAR(50) NOT NULL,
   	DATE_CREATED TIMESTAMP(0) NOT NULL,
   	DOC_CONTENT TEXT NOT NULL,
   	TE_USER_USERNAME VARCHAR(50) NOT NULL
   );

ALTER TABLE TE_DOCUMENT ADD CONSTRAINT TE_DOCUMENT_PK PRIMARY KEY (ID);
ALTER TABLE TE_DOCUMENT ADD CONSTRAINT TE_DOCUMENT_PK_FK1 FOREIGN KEY (TE_USER_USERNAME) REFERENCES TE_USER (USERNAME);
ALTER TABLE TE_DOCUMENT ALTER COLUMN ID SET DEFAULT nextval('te_document_seq');
